match.for.payer.login.and.password = select * from taxpayers where login = ? and password = ?;
not.match.for.payer.login = select * from taxpayers where login = ?;
add.new.payer = insert into taxpayers (login, name, password, role, taxofficer) value (?, ?, ?, ?, ?);
get.payer.id.by.login = select id from taxpayers where login = ?;
get.officer.id.by.payer.login = select taxofficer from taxpayers where login = ?;
is.not.complaint.exist = select * from replacement_request where taxpayer = ? and taxofficer = ?;
create.complaint = insert into replacement_request (creation_time, taxofficer, taxpayer) value (?,?,?);
match.for.officer.login.and.password = select * from taxofficers where login = ? and password = ?;
get.officer.id.by.login = select id from taxofficers where login = ?;
get.not.accepted.reports.for.payer.login = select reports.*, taxpayers.name, report_alteration.note from reports join taxpayers on reports.taxpayer = taxpayers.id left join report_alteration on report_alteration.report = reports.id and report_alteration.accepted = false where taxpayers.login = ? and reports.accepted = false;
get.not.accepted.reports.for.officer.login = select reports.*, taxpayers.name, report_alteration.note from reports join taxpayers on reports.taxpayer = taxpayers.id join taxofficers on reports.taxofficer = taxofficers.id or taxofficers.id = taxpayers.taxofficer left join report_alteration on report_alteration.report = reports.id and report_alteration.accepted = false where taxofficers.login = ? and reports.assessed = false and reports.accepted = false;
add.new.report = insert into reports (accept_time, accepted, assessed, creation_time, taxpayer, taxofficer) value (null, false, false, ?, ?, ?);
accept.report = update reports set accepted = true, assessed = true, taxofficer = ?, accept_time = ? where id = ?;
create.report.alternation = insert into report_alteration (accept_time, accepted, creation_time, note, report) value (null, false, "%s", "%s", %d);
set.report.as.assessed = update reports set assessed = true, taxofficer = %d where id = %d;
set.report.as.not.assessed = update reports set assessed = false where id = %d;
set.alteration.report.as.assessed = update report_alteration set accepted = true, accept_time = "%s" where report = %d and accepted = false;
